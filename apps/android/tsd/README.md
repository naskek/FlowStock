# TSD MVP (офлайн)

## Запуск на Urovo CT48
1. Скопируйте папку `tsd` на устройство.
2. В файловом менеджере откройте `tsd/index.html`.
3. Выберите Chrome и откройте страницу.

## Обновление файлов
- Закройте страницу в Chrome.
- Замените файлы в папке `tsd` на новые (перезапишите).
- Откройте `index.html` снова.

## Работа с операциями
- На главном экране нажмите тип операции, заполните шапку и сканируйте штрихкоды.
- Enter добавляет строку с текущим шагом, Undo отменяет последний скан.
- После заполнения обязательных полей нажмите "Завершить" для статуса READY.
- Под шапкой переключите режим "+1" или "Кол-во..." — второй режим открывает диалог выбора количества после скана.

## Загрузка данных с ПК
- В настройках нажмите "Загрузить данные с ПК..." и выберите файл `LightWMS_TSD_DATA.json`.
- После импорта появится статус и количество справочников.

## Выбор контрагентов и локаций
- Если справочники загружены, поля контрагентов и локаций выбираются через кнопку "Выбрать...".
- Поиск работает по названию/коду, сверху показываются последние 5 выборов.

## Экспорт JSONL
- Откройте "Список операций" и нажмите "Экспорт JSONL" (или экспорт в настройках).
- Экспортируются только документы со статусом READY, после чего статус становится EXPORTED.

## Остатки
- Нажмите "Остатки" на главном экране, чтобы перейти в поиск по данным из `LightWMS_TSD_DATA.json`.
- Поле поиска принимает скан или ручной ввод: Enter ищет по штрихкоду через справочник.
- Под полем отображается дата последней выгрузки (`exportedAt`), карточка показывает итог и остатки по локациям.
- Кнопка "Очистить" сбрасывает выбор, "Назад" возвращает к списку операций.

## Хранение данных
- Настройки сохраняются в IndexedDB в профиле Chrome.
- Для полного сброса настроек очистите данные Chrome.

## Примечание
- Остатки по складу будут добавлены на следующем шаге.
